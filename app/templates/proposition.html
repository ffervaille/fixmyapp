{% extends "main.html" %}

{% block body %}

<article>
    {% set author = proposition.author().find_one() %}
    <hgroup>
        <h1>{{ proposition.title }}</h1>
        <p>{{ sprintf(__("Published by %s %s on %s"), author.firstname, autor.lastname, proposition.publication_date ) }}</p>
    </hgroup>
    <section class="propositionBody">{{ proposition.body }}</section>
    <section class="propositionComments">
        {% for comment in proposition.comments().find_many() %}
            <article class="comment">
                <article class="comment">
                    {% set c_author = proposition.author().find_one() %}
                    <header class="commentHeader">
                        {{ sprintf(__('published by %s %s on %s'), c_author.firstname, c_author.lastname, comment.date) }}
                    </header>
                    <section class="commentBody">{{ comment.body }}</section>
                </article>
            </article>
        {% endfor %}
    </section>
</article>

{% endblock %}